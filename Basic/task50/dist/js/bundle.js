!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(b[e]&&g[e]){for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(p[n]=t[n]);0==--m&&0===y&&O()}}(e,n),t&&t(e,n)};var n,r=!0,o="76616299125498c881ba",a=1e4,i={},s=[],u=[];function c(e){var t=L[e];if(!t)return C;var r=function(r){return t.hot.active?(L[r]?-1===L[r].parents.indexOf(e)&&L[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),C(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return C[e]},set:function(t){C[e]=t}}};for(var a in C)Object.prototype.hasOwnProperty.call(C,a)&&"e"!==a&&Object.defineProperty(r,a,o(a));return r.e=function(e){return"ready"===f&&d("prepare"),y++,C.e(e).then(t,function(e){throw t(),e});function t(){y--,"prepare"===f&&(w[e]||T(e),0===y&&0===m&&O())}},r}var l=[],f="idle";function d(e){f=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var h,p,v,m=0,y=0,w={},g={},b={};function k(e){return+e+""===e?+e:e}function _(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return r=e,d("check"),(t=a,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=C.p+""+o+".hot-update.json";r.open("GET",a,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return d("idle"),null;g={},w={},b=e.c,v=e.h,d("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});return p={},T(0),"prepare"===f&&0===y&&0===m&&O(),t});var t}function T(e){b[e]?(g[e]=!0,m++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=C.p+""+e+"."+o+".hot-update.js",t.appendChild(n)}(e)):w[e]=!0}function O(){d("ready");var e=h;if(h=null,e)if(r)Promise.resolve().then(function(){return D(r)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&t.push(k(n));e.resolve(t)}}function D(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var n,r,a,u,c;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),a=o.id,i=o.chain;if((u=L[a])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:a};if(u.hot._main)return{type:"unaccepted",chain:i,moduleId:a};for(var s=0;s<u.parents.length;s++){var c=u.parents[s],l=L[c];if(l){if(l.hot._declinedDependencies[a])return{type:"declined",chain:i.concat([c]),moduleId:a,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[a]?(n[c]||(n[c]=[]),h(n[c],[a])):(delete n[c],t.push(c),r.push({chain:i.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var m={},y=[],w={},g=function(){console.warn("[HMR] unexpected require("+T.moduleId+") to disposed module")};for(var _ in p)if(Object.prototype.hasOwnProperty.call(p,_)){var T;c=k(_);var O=!1,D=!1,S=!1,j="";switch((T=p[_]?l(c):{type:"disposed",moduleId:_}).chain&&(j="\nUpdate propagation: "+T.chain.join(" -> ")),T.type){case"self-declined":t.onDeclined&&t.onDeclined(T),t.ignoreDeclined||(O=new Error("Aborted because of self decline: "+T.moduleId+j));break;case"declined":t.onDeclined&&t.onDeclined(T),t.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+T.moduleId+" in "+T.parentId+j));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(T),t.ignoreUnaccepted||(O=new Error("Aborted because "+c+" is not accepted"+j));break;case"accepted":t.onAccepted&&t.onAccepted(T),D=!0;break;case"disposed":t.onDisposed&&t.onDisposed(T),S=!0;break;default:throw new Error("Unexception type "+T.type)}if(O)return d("abort"),Promise.reject(O);if(D)for(c in w[c]=p[c],h(y,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,c)&&(m[c]||(m[c]=[]),h(m[c],T.outdatedDependencies[c]));S&&(h(y,[T.moduleId]),w[c]=g)}var M,Q=[];for(r=0;r<y.length;r++)c=y[r],L[c]&&L[c].hot._selfAccepted&&Q.push({module:c,errorHandler:L[c].hot._selfAccepted});d("dispose"),Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)});for(var E,P,I=y.slice();I.length>0;)if(c=I.pop(),u=L[c]){var x={},W=u.hot._disposeHandlers;for(a=0;a<W.length;a++)(n=W[a])(x);for(i[c]=x,u.hot.active=!1,delete L[c],delete m[c],a=0;a<u.children.length;a++){var H=L[u.children[a]];H&&(M=H.parents.indexOf(c))>=0&&H.parents.splice(M,1)}}for(c in m)if(Object.prototype.hasOwnProperty.call(m,c)&&(u=L[c]))for(P=m[c],a=0;a<P.length;a++)E=P[a],(M=u.children.indexOf(E))>=0&&u.children.splice(M,1);for(c in d("apply"),o=v,w)Object.prototype.hasOwnProperty.call(w,c)&&(e[c]=w[c]);var q=null;for(c in m)if(Object.prototype.hasOwnProperty.call(m,c)&&(u=L[c])){P=m[c];var R=[];for(r=0;r<P.length;r++)if(E=P[r],n=u.hot._acceptedDependencies[E]){if(-1!==R.indexOf(n))continue;R.push(n)}for(r=0;r<R.length;r++){n=R[r];try{n(P)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:c,dependencyId:P[r],error:e}),t.ignoreErrored||q||(q=e)}}}for(r=0;r<Q.length;r++){var A=Q[r];c=A.module,s=[c];try{C(c)}catch(e){if("function"==typeof A.errorHandler)try{A.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:n,originalError:e}),t.ignoreErrored||q||(q=n),q||(q=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:c,error:e}),t.ignoreErrored||q||(q=e)}}return q?(d("fail"),Promise.reject(q)):(d("idle"),new Promise(function(e){e(y)}))}var L={};function C(t){if(L[t])return L[t].exports;var r=L[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:_,apply:D,status:function(e){if(!e)return f;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:i[e]};return n=void 0,t}(t),parents:(u=s,s=[],u),children:[]};return e[t].call(r.exports,r,r.exports,c(t)),r.l=!0,r.exports}C.m=e,C.c=L,C.d=function(e,t,n){C.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},C.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},C.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return C.d(t,"a",t),t},C.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},C.p="",C.h=function(){return o},c(9)(C.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(t){o(this,e),this.cash=t.cash||0,this.seats=t.seats||0,this.staff=t.staff||[],this.worldTime=1e3}return r(e,[{key:"hire",value:function(e){for(var t in this.staff)this.staff[t].id==e.id&&(e=null);null!=e&&(this.staff.push(e),console.log("雇佣了"+e.name))}},{key:"getTime",value:function(){return this.worldTime}},{key:"setTime",value:function(e){return Number(e)&&(this.worldTime=Number(e)),this.worldTime}}],[{key:"getInstance",value:function(e){return this.instance||(this.instance=new this(e)),this.instance}}]),e}(),i=0,s=function(){function e(t,n){o(this,e),this.id=++i,this.name=t||"",this.salary=n||0}return r(e,[{key:"finish",value:function(){console.log(this.name+"工作完毕")}}]),e}();t.Restaurant=a,t.Staff=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Data=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(2),a={basicTime:1e3,maxQueue:30,customerQueue:[],seatQueue:[],RestaurantData:null,nowCook:[],nowWaiter:[],nowCookList:[],updateBasicTime:function(e){e*=1e3,this.basicTime=e},getBasicTime:function(){return this.basicTime/1e3},showBasicTime:function(){var e=document.querySelector("#show_basicTime");e.innerHTML=this.getBasicTime(),document.querySelector("#button_basicTime").onclick=function(){var t=document.querySelector("#input_basicTime");null!=t.value&&0!=t.value&&(a.updateBasicTime(t.value),e.innerHTML=a.getBasicTime())};var t=document.querySelector("#input_basicTime");t.value=this.getBasicTime(),t.onchange=function(){t.value>10?(t.value=10,alert("单位时间不允许超过10")):t.value<1&&(t.value=1,alert("单位时间不允许小于1"))}},comeCustomer:function(){var e=parseInt(4*Math.random());if(this.customerQueue.length+e<=this.maxQueue)for(var t=0;t<e;t++)this.customerQueue.push(o.Factory.create("Customer"))},updateCustomer:function(){for(var e=document.querySelector("#app #queue_wrapper"),t="",n=0;n<this.customerQueue.length;n++)t+='<div class = "customer"></div>';e.innerHTML=t;for(var r=document.querySelector("#app #seat_wrapper"),o="",a="",i=0;i<this.seatQueue.length;i++){void 0==this.seatQueue[i]?a="无客":""==this.seatQueue[i].status?(a="已入座",this.seatQueue[i].status="已入座"):a=this.seatQueue[i].status;var s="";if(this.seatQueue[i])for(var u=0;u<this.seatQueue[i].eatList.length;u++){var c="未上桌";"已上桌"==this.seatQueue[i].eatList[u].status&&(c="已上桌"),"已吃完"==this.seatQueue[i].eatList[u].status&&(c="已吃完"),s+="<li>"+this.seatQueue[i].eatList[u].name+"<br>"+c+"</li>"}o+='<div class = "customer_in_seat">                            <div id = "customer_status_wrapper">                                <p>顾客状态：<p>                                <p id = "customer-status">'+a+'</p>                                <img src = "src/asserts/customer.png" alt = "customer" height = "100px">                            </div>                            <div>                                <ul id = "customer_eatList">'+s+"                                </ul>                            </div>                        </div>"}r.innerHTML=o;for(var l=document.querySelector("#cook_list"),f="",d=0;d<this.nowCookList.length;d++)f+="<li>"+this.nowCookList[d].name+"<br>"+this.nowCookList[d].status+" "+this.nowCookList[d].seat+"</li>";l.innerHTML=f},comeIntoSeat:function(){if(null!=this.RestaurantData&&null!=this.customerQueue[0])for(var e=0;e<this.RestaurantData.seats;e++)null==this.seatQueue[e]&&this.customerQueue[0]&&(this.seatQueue[e]=this.customerQueue.shift(),this.seatQueue[e].seatNumber=e+1)},updateStaff:function(){for(var e=[],t=[],n=0;n<this.RestaurantData.staff.length;n++)"Cook"==this.RestaurantData.staff[n].constructor.name&&e.push(this.RestaurantData.staff[n]),"Waiter"==this.RestaurantData.staff[n].constructor.name&&t.push(this.RestaurantData.staff[n]);this.nowCook=e,this.nowWaiter=t;for(var r=document.querySelector("#many_cook"),o="",i=0;i<this.nowCook.length;i++)o+='<div class = "one_cook_wrapper" id = "Cook_'+this.nowCook[i].id+'">                            <div class = "cook_status_wrapper">                                <p>厨师'+this.nowCook[i].name+'状态：</p>                                <p class = "cook_status">'+this.nowCook[i].status+'</p>                                <img src = "./src/asserts/cook.jpg" alt = "" height = "100px"/>                                <input type = "button" value = "解雇">                            </div>                        </div>';if(r.innerHTML=o,0!=document.querySelectorAll(".one_cook_wrapper input").length)for(var s=document.querySelectorAll(".one_cook_wrapper input"),u=function(e){s[e].onclick=function(){a.nowCook[e].preWork="等待解雇",setTimeout(function(){a.updateStaff()},500),console.log("test")}},c=0;c<s.length;c++)u(c);for(var l="",f=document.querySelector("#waiter_wrapper"),d=0;d<this.nowWaiter.length;d++)l+='<div class = "one_waiter_wrapper" id = "Waiter_'+this.nowWaiter[d].id+'">                            <div class = "waiter_status_wrapper">                                <p class = "waiter_status">侍者'+this.nowWaiter[d].name+"状态："+this.nowWaiter[d].status+'</p>                                <img src = "./src/asserts/waiter.png" alt = "" height = "60px"/>                                <input type = "button" value = "解雇">                            </div>                        </div>';if(f.innerHTML=l,0!=this.nowWaiter.length){var h=document.querySelectorAll(".one_waiter_wrapper input"),p=function(e){h[e].onclick=function(){a.nowWaiter[e].preWork="等待解雇",setTimeout(function(){a.updateStaff()},500),console.log("test")}};for(c=0;c<h.length;c++)p(c)}},startOrder:function(){var e=this;if(0!=this.seatQueue.length)for(var t=function(t){if(!e.seatQueue[t])return{v:void 0};"已入座"==e.seatQueue[t].status&&function(){for(var n=3*e.basicTime,r=function(e){e==n?setTimeout(function(){a.seatQueue[t].status="等待上菜";for(var e=a.seatQueue[t].order(),n=0;n<e.length;n++)e[n].status="未被处理",a.nowCookList.push(e[n]);a.seatQueue[t].eatList=e},e,t):setTimeout(function(){a.seatQueue[t].status="点单中，还剩"+(n-e)/1e3+"秒"},e,t,e)},o=0;o<=n;o+=1e3)r(o)}()},n=0;n<this.seatQueue.length;n++){var o=t(n);if("object"===(void 0===o?"undefined":r(o)))return o.v}},startCook:function(){if(0!=this.nowCook.length&&0!=this.nowCookList.length){for(var e=[],t=0;t<this.nowCook.length;t++)"无"==this.nowCook[t].status&&"等待工作"==this.nowCook[t].preWork&&e.push(this.nowCook[t]);if(0!=e.length){for(var n=e[parseInt(e.length*Math.random())],r=[],o=0;o<this.nowCookList.length;o++)"未被处理"==this.nowCookList[o].status&&r.push(this.nowCookList[o]);var i=r[Math.floor(r.length*Math.random())];if(void 0!=i){for(var s=[],u=0;u<r.length;u++)r[u].name==i.name&&(r[u].status="已有厨师处理",s.push(r[u]));for(var c=this.basicTime*i.time,l=function(e){c==e?setTimeout(function(){n.status="无",a.updateStaff(),a.startFire();for(var e=0;e<s.length;e++)s[e].status="已做完";a.updateStaff()},e):setTimeout(function(){n.status=i.name+"，还剩"+(c-e)/1e3+"秒",a.updateStaff()},e,e)},f=0;f<=c;f+=1e3)l(f)}}}},startServe:function(){if(0!=this.nowWaiter.length&&0!=this.nowCookList.length){for(var e=[],t=0;t<this.nowWaiter.length;t++)"无"==this.nowWaiter[t].status&&"等待工作"==this.nowWaiter[t].preWork&&e.push(this.nowWaiter[t]);if(0!=e.length){for(var n=e[parseInt(e.length*Math.random())],r=[],o=[],i=0;i<this.nowCookList.length;i++)"已做完"==this.nowCookList[i].status?o.push(this.nowCookList[i]):r.push(this.nowCookList[i]);if(0!=o.length){var s=o[Math.floor(o.length*Math.random())];if(void 0!=s){for(var u=[],c=0;c<o.length;c++)o[c].seat==s.seat?u.push(o[c]):r.push(o[c]);this.nowCookList=r,n.status="上菜";var l=3*this.basicTime;setTimeout(function(){n.status="无",a.updateStaff(),a.startFire();for(var e=a.seatQueue[s.seat-1],t=0;t<u.length;t++)for(var r=0;r<e.eatList.length;r++)u[t]==e.eatList[r]&&(e.eatList[r].status="已上桌");a.updateStaff()},l)}}}}},startEat:function(){for(var e=0;e<this.seatQueue.length&&void 0!=this.seatQueue[e]&&"等待上菜"==this.seatQueue[e].status;e++){this.seatQueue[e].eat();for(var t=0,n=0;n<this.seatQueue[e].eatList.length;n++)"已吃完"==this.seatQueue[e].eatList[n].status&&t++;t==this.seatQueue[e].eatList.length&&(this.seatQueue[e]=void 0)}},startFire:function(){for(var e=new Array,t=0;t<this.RestaurantData.staff.length;t++)"等待解雇"==this.RestaurantData.staff[t].preWork&&"无"==this.RestaurantData.staff[t].status||e.push(this.RestaurantData.staff[t]);this.RestaurantData.staff=e}};t.Data=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(n(0),n(1));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){};i.create=function(e){var t={};switch(e){case"Customer":t=new s;break;case"Menu":t=c.getInstance()}return t};var s=function(){function e(){a(this,e),this.seatNumber=0,this.status="",this.eatList=[]}return r(e,[{key:"order",value:function(){for(var e=c.getInstance().getRandom(),t=new Array,n=0;n<e.length;n++){var r=new u(e[n].name,e[n].cost,e[n].price,e[n].time);r.seat=this.seatNumber,r.status="未被处理",t.push(r)}return t}},{key:"changeStatus",value:function(e,t){var n=document.querySelector("#customer-status");switch(e){case"入座":n.innerText="入座";break;case"点单":for(var r=function(e){setTimeout(function(){n.innerText="点单还需"+(t-e)/1e3+"秒"},e)},o=0;o<t;o+=1e3)r(o);break;case"点单完毕":n.innerText="点单完毕"}}},{key:"eat",value:function(){var e=[];if("等待上菜"==this.status){for(var t=0;t<this.eatList.length;t++)"已上桌"==this.eatList[t].status&&e.push(this.eatList[t]);if(0!=e.length)for(var n=e[parseInt(e.length*Math.random())],r=3*o.Data.basicTime,a=this,i=function(e){e==r?setTimeout(function(){a.status="等待上菜",n.status="已吃完"},e,a):setTimeout(function(){a.status="食用"+n.name+"，还剩"+(r-e)/1e3+"秒"},e,a)},s=0;s<=r;s+=1e3)i(s)}}}]),e}(),u=function e(t,n,r,o){a(this,e),this.name=t,this.cost=n,this.price=r,this.time=o,this.status="",this.seat=0},c=function(){function e(t){if(a(this,e),this.list=[],null!=t)for(var n in t)this.add(t[n].name,t[n].cost,t[n].price,t[n].time)}return r(e,[{key:"add",value:function(e,t,n,r){this.list.push(new u(e,t,n,r))}},{key:"getRandom",value:function(){for(var e=Math.ceil(Math.random()*this.list.length),t=[],n=0;n<e;n++){var r=Math.floor(Math.random()*this.list.length);-1==t.indexOf(this.list[r])&&t.push(this.list[r])}return t}}],[{key:"getInstance",value:function(e){return this.instance||(this.instance=new this(e)),this.instance}}]),e}();t.Factory=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Waiter=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.status="无",r.preWork="等待工作",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Staff),r(t,[{key:"startWork",value:function(){console.log(this.name+"烹饪菜品")}},{key:"finishWork",value:function(){console.log(this.name+"烹饪完")}}]),t}();t.Waiter=a},,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cook=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=n(3),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.status="无",r.preWork="等待工作",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Staff),r(t,[{key:"startWork",value:function(){console.log(this.name+"烹饪菜品")}},{key:"finishWork",value:function(){console.log(this.name+"烹饪完")}},{key:"changeStatus",value:function(e){var t=document.querySelector("#cook-status");switch(e){case"开始":for(var n=0;this.preList.length>0;){for(var r=this.preList[0],o=[],i=1;i<this.preList.length;i++)o.push(this.preList[i]);this.preList=o;for(var s=function(e){setTimeout(function(n){t.innerText="烹饪"+n.name+"还需"+(n.time-e)+"秒"},1e3*n+1e3*e,r)},u=0;u<r.time;u++)s(u);n+=r.time;var c=this.preList;setTimeout(function(e,t,n){a.Waiter.getInstance().changeStatus("上菜",n),t.updateCookList(e)},1e3*n,c,this,r)}setTimeout(function(){t.innerText="空闲"},1e3*n);break;case"下单":t.innerText="下单"}}},{key:"updateCookList",value:function(e){e=e||this.preList;for(var t=document.querySelector("#app #cook-list"),n="",r=0;r<e.length;r++)n+="<li>"+e[r].name+"</li>";t.innerHTML=n}}]),t}();t.Cook=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toTest=void 0;var r=n(0),o=n(6),a=n(3),i=n(2),s=n(1);function u(e){var t=["Ben","Sam","Tony","Ann","Bella","Andy","Cora","Eve","Kelly","Joyce","Andrew","Alonso","Edith","Elvis","Abel"],n=["10000","9000","12000","7000","8000"];return"name"==e?t[parseInt(Math.random()*t.length)]:"cash"==e?n[parseInt(Math.random()*n.length)]:void 0}t.toTest=function(){s.Data.showBasicTime();var e=document.querySelector("#open"),t=void 0;e.onclick=function(){if("开始营业"==e.value){var n=setInterval(function(){s.Data.comeCustomer()},3*s.Data.basicTime);e.value="停止营业",t=n}else"停止营业"==e.value&&(t=window.clearInterval(t),e.value="开始营业",s.Data.customerQueue=[])};var n=r.Restaurant.getInstance({cash:1e6,seats:4,staff:[]});s.Data.RestaurantData=n,document.querySelector("#app #cash").innerText=n.cash;var c=i.Factory.create("Menu");c.add("糖醋排骨",20,40,5),c.add("麻婆豆腐",10,20,4),c.add("老鸭粉丝汤",13,26,4),c.add("蒜枣大黄鱼",18,44,6),console.log(c),document.querySelector("#add_cook").onclick=function(){if(!(s.Data.nowCook.length>=6)){var e=new o.Cook(u("name"),u("cash"));n.hire(e),s.Data.updateStaff()}},document.querySelector("#add_waiter").onclick=function(){if(!(s.Data.nowWaiter.length>=6)){var e=new a.Waiter(u("name"),u("cash"));n.hire(e),s.Data.updateStaff()}},setInterval(function(){s.Data.updateCustomer(),s.Data.startFire()},500),setInterval(function(){s.Data.comeIntoSeat()},100),setInterval(function(){s.Data.startOrder(),s.Data.startCook(),s.Data.startServe(),s.Data.startEat()},100)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLoadEvent=function(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t(),e()}}},function(e,t,n){"use strict";var r=n(8),o=n(7);n(5),(0,r.addLoadEvent)(o.toTest)}]);